<html>
<head>
<title>Page 29</title>

<style type="text/css">
<!--
	.ft0{font-size:13px;font-family:Helvetica;color:#000000;}
	.ft1{font-size:22px;font-family:Helvetica;color:#000000;}
-->
</style>
</head>
<body vlink="blue" link="blue">
<div style="position:absolute;top:0;left:0"><img width="892" height="1263" src="index029.png"></div><div style="position:absolute;top:87;left:87"><nobr><span class="ft0">Evas Programmers Guide</span></nobr></div>
<div style="position:absolute;top:104;left:87"><nobr><span class="ft0">By Carsten Haitzler, Copyright © 2001 Carsten Haitzler (The Rasterman)</span></nobr></div>
<div style="position:absolute;top:126;left:139"><nobr><span class="ft0">goes IDLE, or you ABSOLUTELY NEED a rendering pass done - i.e. no more events to process</span></nobr></div>
<div style="position:absolute;top:143;left:139"><nobr><span class="ft0">and no state to change. Doing otherwise will impact performance badly.</span></nobr></div>
<div style="position:absolute;top:182;left:139"><nobr><span class="ft0">Remember evas_render() does not return anything. If there is anything to draw it will draw what is</span></nobr></div>
<div style="position:absolute;top:199;left:139"><nobr><span class="ft0">needed, and then return. If there is nothing to be done it will return immediately.</span></nobr></div>
<div style="position:absolute;top:216;left:139"><nobr><span class="ft0">evas_render_updates() returns an Imlib_Updates data list that you can process with Imlib2 calls to</span></nobr></div>
<div style="position:absolute;top:233;left:139"><nobr><span class="ft0">find out what rectangles in the canvas Evas actually rendered to. Evas will return NULL if nothing</span></nobr></div>
<div style="position:absolute;top:250;left:139"><nobr><span class="ft0">was rendered. If you use this call it is your responsibility to free the updates when you are done</span></nobr></div>
<div style="position:absolute;top:268;left:139"><nobr><span class="ft0">processing them, otherwise they will keep being generated every render call, and thus memory will</span></nobr></div>
<div style="position:absolute;top:285;left:139"><nobr><span class="ft0">leak.</span></nobr></div>
<div style="position:absolute;top:323;left:139"><nobr><span class="ft0">Also make use of obscure regions. Evas allows you to define regions of your Evas canvas that are</span></nobr></div>
<div style="position:absolute;top:341;left:139"><nobr><span class="ft0">COMPLETELY obscured by other windows (or obstacles) so the rendering output will never be</span></nobr></div>
<div style="position:absolute;top:358;left:139"><nobr><span class="ft0">seen.</span></nobr></div>
<div style="position:absolute;top:397;left:139"><nobr><span class="ft0">You can clear the list of obscure rectangles by calling evas_clear_obscured_rects(). When these</span></nobr></div>
<div style="position:absolute;top:414;left:139"><nobr><span class="ft0">obscuring objects appear or go away or change it is a good idea to clear the list and then call</span></nobr></div>
<div style="position:absolute;top:431;left:139"><nobr><span class="ft0">evas_add_obscured_rect() to add in all the rectangles of objects that completely obscure Evas.</span></nobr></div>
<div style="position:absolute;top:448;left:139"><nobr><span class="ft0">Evas will use this information to reduce the amount of rendering it has to do and not render to the</span></nobr></div>
<div style="position:absolute;top:466;left:139"><nobr><span class="ft0">sections of the canvas completely obscured by obstacles. Remember that the list is persistent</span></nobr></div>
<div style="position:absolute;top:483;left:139"><nobr><span class="ft0">between renderings and thus you need to change it whenever the obstacles change.</span></nobr></div>
<div style="position:absolute;top:906;left:85"><nobr><span class="ft1"><b>T</b><b>h</b><b>e</b><b> </b><b>R</b><b>e</b><b>n</b><b>d</b><b>e</b><b>r</b><b>i</b><b>n</b><b>g</b><b> </b><b>E</b><b>n</b><b>g</b><b>i</b><b>n</b><b>e</b><b>s</b></span></nobr></div>
<div style="position:absolute;top:956;left:139"><nobr><span class="ft0">Evas provides you with several output targets for an Evas canvas. Once a rendering engine is set, it</span></nobr></div>
<div style="position:absolute;top:973;left:139"><nobr><span class="ft0">cannot be changed. You can select how Evas is to render to the display target by selecting the</span></nobr></div>
<div style="position:absolute;top:990;left:139"><nobr><span class="ft0">render method. Currently Evas supports a Software Rendering engine (the default) that uses Imlib2,</span></nobr></div>
<div style="position:absolute;top:1007;left:139"><nobr><span class="ft0">an X11 primitives engine that uses X primitives for all the drawing - such as pixmaps, lines,</span></nobr></div>
<div style="position:absolute;top:1025;left:139"><nobr><span class="ft0">rectangles etc., an OpenGL hardware accelerated engine and an Imlib2 image target engine, so you</span></nobr></div>
<div style="position:absolute;top:1042;left:139"><nobr><span class="ft0">can  render to an Imlib2 Image object in order to re-use as an image or save to disk etc.</span></nobr></div>
<div style="position:absolute;top:1080;left:139"><nobr><span class="ft0">Each rendering engine has a personality of its own, and at a later date more engines will be added</span></nobr></div>
<div style="position:absolute;top:1097;left:139"><nobr><span class="ft0">to provide different targets for the canvas output (for example a postscript or pdf engine would</span></nobr></div>
<div style="position:absolute;top:1115;left:139"><nobr><span class="ft0">certainly be feasible).</span></nobr></div>
<div style="position:absolute;top:1156;left:87"><nobr><span class="ft0">Evas Documentation</span></nobr></div>
<div style="position:absolute;top:1156;left:748"><nobr><span class="ft0">Page 29</span></nobr></div>
<div style="position:absolute;top:706;left:502"><nobr><span class="ft0">Obscuring Rectangle</span></nobr></div>
<div style="position:absolute;top:562;left:319"><nobr><span class="ft0">Obscuring</span></nobr></div>
<div style="position:absolute;top:580;left:319"><nobr><span class="ft0">Rectangle</span></nobr></div>
<div style="position:absolute;top:724;left:272"><nobr><span class="ft0">Obscuring</span></nobr></div>
<div style="position:absolute;top:742;left:272"><nobr><span class="ft0">Rectangle</span></nobr></div>
<div style="position:absolute;top:821;left:362"><nobr><span class="ft0">Evas Canvas Window</span></nobr></div>
</body>
</html>
