
 Writing a theme for Elitaire
==============================

I assume that you already have some knowledge and experiences with edje or
better said with writing edc-files. If you are not familiar with edc-files,
please, read an introduction about them first.

There are two different kinds of themes: card deck and gui themes. I will
handle theme here independently, although they can be out into a single
edj-files. Nevertheless I want to encourage you to use two different files,
if they are not really designed to form an unit.

There are two places elitaire looks to find the themes, the system wide path
is $PREFIX/share/elitaire/themes/ and for personal files it is 
~/.e/apps/elitaire/themes/.


 The card deck
===============

* The cards *

The card deck provides edje groups for the cards, the stacks and the card's
shadow. The name of the cards start with "elitaire/card/" followed by a
2-digit number. The count starts with the ace of clubs (00), followed by two of 
clubs (01), ..., up to the king of clubs (12). Same for the other suits: 
hearts (starting with 13), spades (starting with 26) and diamonds (starting
with 39).

Here is a table to look up the number for certain cards, the group name of 
a 7 of spades has then the name "elitaire/card/32". 

        | clubs  | hearts | spades | diamonds
--------+--------+--------+--------+-----------
Ace     |   00   |   13   |   26   |   39
2       |   01   |   14   |   27   |   40
3       |   02   |   15   |   28   |   41
4       |   03   |   16   |   29   |   42
5       |   04   |   17   |   30   |   43
6       |   05   |   18   |   31   |   44
7       |   06   |   19   |   32   |   45
8       |   07   |   20   |   33   |   46
9       |   08   |   21   |   34   |   47
10      |   09   |   22   |   35   |   48
Jack    |   10   |   23   |   36   |   49
Queen   |   11   |   24   |   37   |   50
King    |   12   |   25   |   38   |   51
--------+--------+--------+--------+-----------

There are two signals that are send to the cards "hint,on" and "hint,off". You
can then highlight the card in any way you want.

Besides the front pictures of the cards there are also "elitaire/card/bg", the
backside of the cards, and "elitaire/card/shadow" used as the shadow for the
cards if it is enabled. Note, that to both groups "hint,on" and "hint,off" is
never called.

* The stacks *

There are two groups for the stacks "elitaire/stack/all" and 
"elitaire/stack/last". "last" is used for stacks, where only the card on the 
top is visible, while they is hiding the other cards. "all" is used as stack
base for stacks, where the cards are arranged in a top-down sequence.


 The gui theme
===============

The gui theme consists of two groups "elitaire/main" and "elitaire/element".
The main group has many swallow and text parts you can or have to provide.
There is also a bunch of signals of elitaire send to the main part and some
signals elitaire is listen to.

* Swallow Parts *

"elitaire_context_menu"
	This swallow part is used for the event rectangle of the context
	menu. If the user right clicks on it the context menu will be opened.
"elitaire_drag"
	This swallow part is used for the event rectangle to move the entirely
	window. You probably only want to use it if you have borderless theme.
"elitaire_resize_left"
	This swallow part is used for the event rectangle to resize the window
	in the left direction. Only use this if your the is a borderless theme.
"elitaire_resize_right"
	see above
"elitaire_resize_top"
	see above
"elitaire_resize_bottom"
	see above
"elitaire_resize_left_top"
	see above
"elitaire_resize_right_top"
	see above
"elitaire_resize_left_bottom"
	see above
"elitaire_resize_right_bottom"
	see above
"elitaire_cards_box"
	The part to swallow the box to hold the different card deck names, so
	that the user can select them. Elitaire doesn't set a minimum size for
	it so it is up to you. (This will maybe changed in the future.) The
	box is scrollable, see more about that in the signal section.
"elitaire_theme_box"
	The same like the card box, but for the gui themes.
"elitaire_new_box"
	The same like the card box, but to start a new game variant.
"elitaire_card_field"
	The field where the actual card area is swallowed to. You must provide
	this part :).

* Text Parts *

"elitaire_win_text"
	In this text part something like "You lost", "You win" or "Game Over".
	Don't make this part too small, because the translated labels can
	actually be longer.
"elitaire_points"
	This is the text field where the current points number stands.
"elitaire_new_box_label"
	Elitaire will set this part to a translation of "Games".
"elitaire_theme_box_label"
	Elitaire will set this part to a translation of "Themes".
"elitaire_cards_box_label"
	Elitaire will set this part to a translation of "Cards".

* read data values *

There are some data values that you can define that a read by elitaire. All
this values are optional.

"borderless"
	You can set the main window to borderless if the value is "1", else
	it will have a border.
"shaped"
	This will cause the window to be shaped if you set it to "1", else
	it will not be shaped.
"offset/left" "offset/right" "offset/top" "offset/bottom"
	These define the offset values of the cards to the card field. This is
	usefull because the cards are clipped to the size of the card field.	

* Signals emitted by elitaire *

"win,on"
	The signal to show the "elitaire_win_text"
"win,off"
	The signal to hide the "elitaire_win_text"
"game,selected"
	This signal is emitted if the user has selected a game from the list.
	This is useful if you want to collapse a menu or something.
"theme,selected"
	This signal is emitted if the user has selected a theme from the list.
	This is useful if you want to collapse a menu or something.
"cards,selected"
	This signal is emitted if the user has selected a card from the list.
	This is useful if you want to collapse a menu or something.

In some cases elitaire sends signals that are appointed for elitaire itself.
But of course you can use them too if you want to.
You find more about them in the next section: "new_game", "undo", "restart"

* Signals received by elitaire *

"quit"
	This requests elitaire to quit the application.
"undo"
	Undo the last move
"restart"
	Restart the current game
"new_game"
	Start a new game. 
"hints"
	Show/hide the hints


There are also a bunch of signals to scroll through the 3 different list 
(games, cards, themes). They all must have set the source to
"elitaire_new_box", "elitaire_cards_box" or "elitaire_theme_box".

	
"scroll,left"
	Performs a move to top
"scroll,right"
	Performs a move to buttom
"scroll,left,start"
	As you can figure it is hard to scroll with the above step functions,
	hence there is also this signal that will start a timer that performs
	the scrolling for.
"scroll,right,start"
	see above
"scroll,stop"
	When the user release the button or when ever you want to stop the
	scrolling, use this signal. As you can see the direction doesn't 
	matter. It will stop the scrolling in both directions.



Finally there is also the "elitaire/element" group it is for the menu items 
put into the boxes. To show the game name it needs the a text part named
"elitaire_element_value". When the user has selected this element you
need to emit a signal "item_selected" where the source has also to be
"item_selected".

If you find a mistake or a missing part, please let it me know.
