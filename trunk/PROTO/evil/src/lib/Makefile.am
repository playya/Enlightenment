
MAINTAINERCLEANFILES = Makefile.in

SUBDIRS = . dlfcn

lib_LTLIBRARIES = libevil.la

include_HEADERS = \
Evil.h \
evil_fcntl.h \
evil_langinfo.h \
evil_main.h \
evil_stdlib.h \
evil_stdio.h \
evil_string.h \
evil_unistd.h \
evil_util.h

nobase_include_HEADERS = pwd.h sys/mman.h

if EVIL_HAVE_MINGW32CE

nobase_include_HEADERS += errno.h

endif

if ! EVIL_HAVE_CEGCC

nobase_include_HEADERS += fnmatch.h dirent.h

endif

libevil_la_SOURCES = \
evil_errno.c \
evil_fcntl.c \
evil_fnmatch.c \
evil_fnmatch_list_of_states.c \
evil_langinfo.c \
evil_main.c \
evil_mman.c \
evil_pwd.c \
evil_stdlib.c \
evil_stdio.c \
evil_string.c \
evil_time.c \
evil_unistd.c \
evil_util.c \
evil_uuid.c

if ! EVIL_HAVE_CEGCC

libevil_la_SOURCES += evil_dirent.c

endif

if EVIL_HAVE_WINCE

libevil_la_SOURCES += evil_link_ce.c

else

libevil_la_SOURCES += evil_link_xp.cpp

endif

libevil_la_CPPFLAGS = @win32_cppflags@
libevil_la_CFLAGS = @win32_cflags@
libevil_la_CXXFLAGS = @win32_cxxflags@
libevil_la_LIBADD = @win32_libs@ $(EFL_MPATROL_LIBS)
libevil_la_LDFLAGS = -no-undefined -Wl,--enable-auto-import -version-info @version_info@ 

if EVIL_HAVE_WINCE

libevil_la_LINK = $(LINK) $(libevil_la_LDFLAGS)

else

libevil_la_LINK = $(CXXLINK) $(libevil_la_LDFLAGS)

endif


EXTRA_DIST = evil_private.h evil_fnmatch_private.h
