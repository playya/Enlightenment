2008-10-11  Vincent Torri  <doursse at users dot sf dot net>

	* configure.ac:
	* src/lib/Makefile.am:
	readd guards suppressed in previous commit

	* src/lib/Evil.h:
	include new header files

	* src/lib/errno.h:
	* src/lib/evil_errno.c:
	add fake errno system with mingw32ce

	* src/lib/evil_fcntl.c:
	* src/lib/evil_fcntl.h:
	fix compilation on cegcc and mingw32 (mainly does
	nothing on Windows CE)

	* src/lib/evil_stdio.c:
	* src/lib/evil_stdio.h:
	add rewind and perror for mingw32ce

	* src/lib/evil_string.c:
	* src/lib/evil_string.h:
	add strerror for mingw32ce

2008-10-11  Vincent Torri  <doursse at users dot sf dot net>

	* configure.ac:
	* src/lib/Makefile.am:
	* src/lib/evil_fnmatch.c:
	* src/lib/evil_fnmatch_list_of_states.c:
	add guards instead of not including fnmatch source
	file in Makefile.am (for mingw32ce only)

	* src/bin/Makefile.am:
	* src/bin/evil_suite.c:
	* src/bin/evil_test_memcpy.c:
	* src/bin/suite.c:
	* src/bin/suite.h:
	* src/bin/test_memcpy.c:
	* src/bin/test_memcpy.h:
	rename files

2008-10-09  Vincent Torri  <doursse at users dot sf dot net>

	* AUTHORS:
	mention Tor's contribution

	* configure.ac:
	mention m4 directory, check errno header file,
	add conditionnal when mingw32ce is used, minor
	formatting

	* m4/efl_doxygen.m4:
	fix comments

	* src/lib/Makefile.am:
	include fnmatch files only when mingw32ce is used

	* src/lib/evil_fcntl.c:
	define correctly _get_osfhandle on mingw32ce

	* src/lib/evil_pwd.c:
	fix getpwuid() when cegcc or mingw32ce are used

	* src/lib/evil_stdlib.c:
	fix mkstemp() on all Windows platform, guard errno stuff

	* src/lib/evil_stdlib.h:
	template -> __template because 'template' is a c++ keyword.

	* src/lib/evil_unistd.c:
	guard errno stuff

	* src/lib/evil_fnmatch.c:
	* src/lib/evil_fnmatch_list_of_states.c:
	* src/lib/evil_fnmatch_private.h:
	* src/lib/fnmatch.h:
	added files

	* win32/common/fnmatch.c:
	* win32/common/fnmatch.h:
	* win32/common/fnmatch_list_of_states.c:
	* win32/common/fnmatch_private.h:
	removed files

2008-10-05  Vincent Torri  <doursse at users dot sf dot net>

	* m4:
	add m4 macro for doxygen, mpatrol and __attribute__

	* doc:
	move Doxyfile from toplevel dir to doc/

	* src/bin/Makefile.am
	* src/lib/Makefile.am
	* src/lib/dlfcn/Makefile.am
	remove _DEPENDENCIES, add flags for mpatrol and put
	defines for EAPI

	* src/bin:
	add memcpy for i686. Need an asm expert to modify it

	* src/bin/memcpy_glibc_arm.S:
	formatting

	* src/bin/suite.c:
	fix seg fault by increasing the size of the buffers

	* src/bin/test_memcpy.c:
	add a test with a bigger size for the memory to copy

	* configure.ac:
	reorganise a lot, use m4 macro, add mpatrol support

	* Makefile.am:
	add doc rule

2008-10-03  Vincent Torri  <doursse at users dot sf dot net>

	* src/bin/Makefile.am:
	rename memcpy_glibc.S to memcpy_glibc_arm.S

2008-09-28  Vincent Torri  <doursse at users dot sf dot net>

	* configure.ac:
	* src/bin/Makefile.am:
	* src/bin/test_memcpy.c:
	compile memcpy_glibc.S only if cegcc or mingw32ce is used

	* src/bin/test_pipe.c:
	use evil_sockets_init and evil_sockets_shutdown.

	* src/lib/evil_unistd.c:
	formatting

2008-09-15  Vincent Torri  <doursse at users dot sf dot net>

	* Makefile.am:
	add autogen.sh in archive distribution

	* configure.ac:
	remove useless defines
	first support of mingw32msvc compiler

	* src/lib/Evil.h:
	move some macro definitions

	* src/lib/Makefile.am:
	add evil_(fcntl/langinfo).(c/h) and install pwd.h

	* src/lib/dlfcn/dlfcn.h:
	remove useless ifdef

	* src/lib/evil.c:
	comment all code for now. It will be deleted later

	* src/lib/evil_fcntl.c:
	* src/lib/evil_fcntl.h:
	* src/lib/evil_langinfo.c:
	* src/lib/evil_langinfo.h:
	move fcntl and langinfo related code to their own files

	* src/lib/evil_mman.c:
	remove useless inclusion

	* src/lib/evil_pwd.c:
	pw var is not needed with cegcc

	* src/lib/evil_stdlib.c:
	fix bugs, formatting

	* src/lib/evil_unistd.c:
	add missing declarations and fix header files

	* src/lib/evil_unistd.h:
	move pid_t typedef to Evil.h

	* src/lib/evil_util.c:
	additional include and fix a bug in output

	* src/lib/pwd.h:
	use EAPI from Evil.h, define struct passwd when not using cegcc

	* src/lib/sys/mman.h:
	use EAPI from Evil.h

	* win32/common/fnmatch.c:
	* win32/common/fnmatch.h:
	* win32/common/fnmatch_list_of_states.c:
	* win32/vs8/evil.sln:
	fix and cleanup with vc++ compilation
	Based on patch by Dmitriy Mazovka

2008-09-14  Vincent Torri  <doursse at users dot sf dot net>

	Fix compilation with vc++. Based on patch by Dmitriy Mazovka

	* src/lib/Evil.h:
	move typedef's

	* src/lib/evil.c:
	remove declaration and include

	* src/lib/evil_stdlib.c:
	simplify mkstmp implementation
	fix getenv

	* src/lib/evil_unistd.c:
	include correct headers for readlink and symlink

2008-09-13  Vincent Torri  <doursse at users dot sf dot net>

	* big rework of evil
	* addition of a unit test for memcpy

2008-07-13  Vincent Torri  <doursse at users dot sf dot net>

	* src/lib/Evil.h:
	declare pid_t, ssize_t and mode_t for vc++ before flock
	structure (vc++)
	* src/lib/dlfcn/dlfcn.h:
	include limits.h for vc++

	* src/lib/evil.c: (symlink), (readlink):
	use UNICODE instead of checking the OS. Use PATH_MAX instead
	of MB_CUR_MAX when needed

2008-07-03  Vincent Torri  <doursse at users dot sf dot net>

	* src/lib/Evil.h:
	uid_t and gid_t exist on cegcc

2008-06-29  Vincent Torri  <doursse at users dot sf dot net>

	* configure.ac:
	* src/lib/Evil.h:
	* src/lib/Makefile.am:
	* src/lib/evil.c:
	* src/lib/pwd/Makefile.am:
	* src/lib/pwd/pwd.h:
	add langinfo and getpwuid support

	* src/lib/mman/sys/mman.h:
	* src/lib/dlfcn/dlfcn.h:
	fix comment

2008-06-11  Vincent Torri  <doursse at users dot sf dot net>

	* src/lib/Evil.h:
	add defines for vc++. Thanks to Dmitriy Mazovka

2008-06-10  Vincent Torri  <doursse at users dot sf dot net>

	* configure.ac:
	* src/lib/dlfcn/dlfcn.h:
	* src/lib/mman/sys/mman.h:
	define EFL_EVIL_MMAN_BUILD and EFL_EVIL_DLFCN_BUILD so
	that functions in Evil.h are not declared as import

	* src/lib/evil.c: (setenv), (unsetenv), (realpath),
	(evil_sockets_init), (evil_sockets_shutdown), (evil_pipe),
	(evil_tmpdir_get), (evil_homedir_get):
	rename pipe() to evil_pipe().
	set tmpdir to "Temp" and homedir to "My Documents" on WinCE

	* src/lib/Evil.h:
	define pipe() as evil_pipe(). This allow to use our pipe()
	implementation to be usedwith cegcc, as it is broken on that
	platform.
	move the defines at the end of the file

2008-06-09  Vincent Torri  <doursse at users dot sf dot net>

	* src/lib/Evil.h:
	add strdup define

	* src/lib/evil.c: (evil_tmpdir_get), (evil_homedir_get):
	include stdlib.h to define MB_CUR_MAX
	On Windows CE, tmpdir and homedir are defined as "\windows"

	* src/lib/mman/mman.c: (mmap), (munmap):
	compile the big fat hack of mmap only on Windows CE

2008-06-08  Vincent Torri  <doursse at users dot sf dot net>

	* src/lib/Evil.h:
	* src/lib/evil.c: (evil_last_error_get):
	add evil_last_error_get() function to get
	useful error string creation.

	* src/lib/dlfcn/dlfcn.c: (get_last_error), (dlopen), (dlsym),
	(dladdr):
	use UNICODE check instead of compiler checks when needed.
	use evil_last_error_get()

	* src/lib/mman/mman.c: (mmap), (munmap):
	file mapping does not work on Windows CE < 5.0.
	if it is the case, just read the file and return
	the data.
	use evil_last_error_get()

	* src/lib/mman/Makefile.am:
	* src/lib/Makefile.am:
	add libevil dependancy

2008-06-07  Vincent Torri  <doursse at users dot sf dot net>

	* src/lib/Evil.h:
	include windows.h instead of windef.h
	undefine PATH_MATH before defining it

	* src/lib/dlfcn/dlfcn.c:
	remove useless header file

2008-06-06  Vincent Torri  <doursse at users dot sf dot net>

	* src/lib/Evil.h:
	add PATH_MAX macro

	* src/lib/dlfcn/dlfcn.c: (get_last_error):
	free correctly strings

2008-06-02  Vincent Torri  <doursse at users dot sf dot net>

	* src/lib/Evil.h:
	* src/lib/evil.c: (setenv), (unsetenv):
	setenv and unsetenv are already defined with cegcc

2008-06-01  Vincent Torri  <doursse at users dot sf dot net>

	* src/lib/Evil.h:
	* src/lib/evil.c:
	add open with several arguments
	add getcwd, lstat, setenv, unsetenv and evil_homedir_get.
	typo in doc

2008-06-01  Vincent Torri  <doursse at users dot sf dot net>

	* src/lib/dlfcn/dlfcn.c:
	memory leak with cegcc

	* src/lib/dlfcn/dlfcn.h:
	include limits.h for MinGW users

	* src/lib/mman/sys/mman.h:
	add MAP_FAILED error value

2008-05-20  Vincent Torri  <doursse at users dot sf dot net>

	* src/lib/dlfcn/dlfcn.h:
	dli_fname ncorrectly declared. Thanks to Dmitriy Mazovka.

2008-05-11  Vincent Torri  <doursse at users dot sf dot net>

	* src/lib/Evil.h:
	* src/lib/evil.c (getpid):
	add wrapper around GetCurrentProcessId()

2008-05-10  Vincent Torri  <doursse at users dot sf dot net>

	* src/lib/dlfcn/dlfcn.c: (dladdr):
	replace all the '\' by '/' in the filename found by dladdr

2008-04-28  Vincent Torri  <doursse at users dot sf dot net>

	* src/lib/Evil.h:
	* src/lib/evil.c: (evil_getcwd):
	add getcwd-like function

	* src/lib/dlfcn/dlfcn.c: (dladdr):
	* src/lib/dlfcn/dlfcn.h:
	add dladdr-like function. Formatting
	Remove unused define

	* src/lib/mman/sys/mman.h:
	remove unused define

2008-04-26  Vincent Torri  <doursse at users dot sf dot net>

	* src/lib/Evil.h:
	* src/lib/Makefile.am:
	* src/lib/dlfcn/Makefile.am:
	* src/lib/dlfcn/dlfcn.c: (get_last_error), (dlopen), (dlsym):
	* src/lib/evil.c: (evil_char_to_wchar), (evil_wchar_to_char):
	make char <--> wchar_t conversion functions public

	* src/lib/mman/Makefile.am:
	add cegcc flags

	* src/lib/mman/mman.c:
	move include

2008-04-23  Vincent Torri  <doursse at users dot sf dot net>

	* configure.ac:
	* src/bin/Makefile.am:
	* src/lib/Makefile.am:
	* src/lib/dlfcn/Makefile.am:
	* src/lib/mman/Makefile.am:
	use -Wl,--enable-auto-import with cegcc
	fix warning with newest autoconf

	* src/lib/dlfcn/dlfcn.c: (string_to_wchar):
	include wchar.h and fix warnings

	* src/lib/mman/mman.c:
	use relative path to include sys/mman.h

2008-03-28  Vincent Torri  <doursse at users dot sf dot net>

	* src/lib/Evil.h:
	remove the stat structure and add guards

	* src/lib/dlfcn/dlfcn.c:
	include limits.h also for the cegcc compiler

2008-03-23  Vincent Torri  <doursse at users dot sf dot net>

	* src/lib/Evil.h:
	add POSIX definitions

	* src/lib/evil.c:
	make realpath available with cegcc. The function
	just copy the file name to the resolved name with
	that compiler

2008-03-13  Vincent Torri  <doursse at users dot sf dot net>

	* INSTALL:
	* README:
	additional notes for compilations with cegcc or mingw32ce

	* configure.ac:
	use 'win32' instead of 'cegcc' or 'mingw'

	* src/lib/dlfcn/dlfcn.c (dlopen):
	cegcc does not support LOAD_WITH_ALTERED_SEARCH_PATH.
	Use LoadLibrary instead of LoadLibraryEx in that case.

2008-03-05  Vincent Torri  <doursse at users dot sf dot net>

	* src/lib/Evil.h:
	* src/lib/evil.c:
	cegcc or mingwce32 does not like relative path,
	so _fullpath or other similar function do not exist
	on Winodws mobile.

	* src/lib/mman/mman.c:
	missing #

2008-03-05  Vincent Torri  <doursse at users dot sf dot net>

	fix compilation with cegcc and minor fixing

	* COPYING:
	copyright update

	* configure.ac:
	* src/lib/Evil.h:
	* src/lib/dlfcn/dlfcn.h:
	* src/lib/mman/sys/mman.h:
	define EFL_EVIL_BUILD in config.h for managing correctly EAPI

	* src/bin/test_pipe.c:
	stdio.h is needed after winsock2.h for mingw32ce

	* src/lib/dlfcn/dlfcn.c (get_last_error), (dlopen), (dlsym):
	* src/lib/evil.c:
	fix some heafer files inclusion on cegc platform.
	first step of mingw32ce support

	* src/lib/mman/mman.c:
	define _get_osfhandle for mingw32ce

2008-03-03  Vincent Torri  <doursse at users dot sf dot net>

	* COPYING:
	* COPYING-PLAIN:
	* Makefile.am:
	update the COPYING file

2008-02-29  Vincent Torri  <doursse at users dot sf dot net>

	* AUTHORS:
	Add Tor Lillqvist as author as he kindly gave me
	the right to use his code for pipe(). Thanks a lot !

	* src/bin/test_dlfcn.c (main):
	read module and symbol from command line

	* src/bin/test_pipe.c (thread), (main):
	change output

	* src/lib/Evil.h:
	* src/lib/dlfcn/dlfcn.h:
	* src/lib/evil.c (mkstemp), (realpath), (evil_sockets_init),
	(evil_sockets_shutdown):
	* src/lib/mman/sys/mman.h:
	update documentation, add unlink() function, realpath()
	becomes a function instead of a macro, add functions to
	init / shutdown the socket system of Windows, undef EAPI
	at the end of each header files.

2008-02-27 Vincent Torri  <doursse at users dot sf dot net>

	* initial release
