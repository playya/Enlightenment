From 198a50435d5d6ec247642f890869141131522ce3 Mon Sep 17 00:00:00 2001
From: Carsten Haitzler (Raster <raster@rasterman.com>
Date: Wed, 29 Oct 2008 21:03:52 +1100
Subject: [PATCH] Linux (Palm): Fix Linux kernel build so it actually works for palmt650

Linux hackndev changed their git so the OE packages for palm ceased to work.
This updates so it actually builds a kernel corectly.
---
 packages/linux/linux-hackndev-2.6_git.bb |   10 +++-------
 1 files changed, 3 insertions(+), 7 deletions(-)

diff --git a/packages/linux/linux-hackndev-2.6_git.bb b/packages/linux/linux-hackndev-2.6_git.bb
index 387a1da..015a6fe 100644
--- a/packages/linux/linux-hackndev-2.6_git.bb
+++ b/packages/linux/linux-hackndev-2.6_git.bb
@@ -6,15 +6,10 @@ PR = "r14"
 
 COMPATIBLE_MACHINE = "(palmld|palmtc|palmtt3|palmtt5|palmtx|palmz31|palmz72|palmt650)"
 
-SRC_URI = "git://git.hackndev.com/linux-hnd;protocol=git \
+SRC_URI = "git://git.hackndev.com/linux-hnd;protocol=git;tag=master \
 	   file://defconfig"
 
-SRC_URI_append_palmtx += "http://www.busybox.net/downloads/busybox-1.1.0.tar.bz2 \
-			  file://init \
-                          file://initramfs_list \
-                          file://busybox-config"
-
-S = "${WORKDIR}/trunk"
+S = "${WORKDIR}/git"
 
 K_MAJOR = "2"
 K_MINOR = "6"
@@ -25,6 +20,7 @@ PV = "${K_MAJOR}.${K_MINOR}.${K_MICRO}-${HHV}"
 inherit kernel
 
 do_configure() {
+	echo "working in $PWD"
 
 	if [ -f ${WORKDIR}/defconfig ]; then
 		install -m 0644 ${WORKDIR}/defconfig ${S}/.config || die "No configuration for ${MACHINE} available."
-- 
1.5.4.3

