## Process this file with automake to produce Makefile.in
AUTOMAKE_OPTIONS     = 1.7 foreign

LDFLAGS              = -rdynamic -shared
INCLUDES             = -I. -I$(top_srcdir) -I$(top_srcdir)/src/include

pkgdir =  $(datadir)/entropy/plugins

MIME_L = mime.la
THUMBNAILER_L = imlib_thumbnailer.la
POSIX_L = posix.la
LAYOUT_L = layout_ewl_simple.la
EWL_LOCAL_ICON_L = ewl_local_icon.la
EWL_LIST_L = ewl_list.la
STRUCTURE_VIEWER_L = structure_viewer.la
SYSTEM_THUMBNAILER_L = system_thumbnailer.la
ACTION_SIMPLE_L = action_simple.la

#if 0
#LAYOUT_ETK_L = layout_etk_simple.la
#else
LAYOUT_ETK_L =
#endif

pkg_LTLIBRARIES		= $(MIME_L) $(THUMBNAILER_L) $(POSIX_L) $(LAYOUT_L) $(EWL_LOCAL_ICON_L) $(STRUCTURE_VIEWER_L) $(SYSTEM_THUMBNAILER_L) $(ACTION_SIMPLE_L) $(LAYOUT_ETK_L) $(EWL_LIST_L)

ewl_local_icon_la_SOURCES      = 	$(top_srcdir)/src/entropy_gui.c \
					ewl_progress_dialog.c \
					ewl_icon_local_viewer.c ewl_properties_dialog.c $(top_srcdir)/src/entropy_debug.c
ewl_local_icon_la_CFLAGS       = @EWL_CFLAGS@
ewl_local_icon_la_LDFLAGS      = -module -avoid-version
ewl_local_icon_la_LIBADD       = @EWL_LIBS@

ewl_list_la_SOURCES      =        $(top_srcdir)/src/entropy_gui.c \
                                        ewl_progress_dialog.c \
                                        ewl_list_viewer.c ewl_properties_dialog.c $(top_srcdir)/src/entropy_debug.c
ewl_list_la_CFLAGS       = @EWL_CFLAGS@
ewl_list_la_LDFLAGS      = -module -avoid-version
ewl_list_la_LIBADD       = @EWL_LIBS@


structure_viewer_la_SOURCES    = $(top_srcdir)/src/entropy_gui.c \
				structure_viewer.c $(top_srcdir)/src/entropy_debug.c
structure_viewer_la_CFLAGS     = @EWL_CFLAGS@
structure_viewer_la_LDFLAGS    = -module -avoid-version
structure_viewer_la_LIBADD     = @EWL_LIBS@

action_simple_la_SOURCES       = $(top_srcdir)/src/entropy_gui.c \
				action_simple.c $(top_srcdir)/src/entropy_debug.c
action_simple_la_CFLAGS        = @EWL_CFLAGS@
action_simple_la_LDFLAGS       = -module -avoid-version
action_simple_la_LIBADD        = @EWL_LIBS@


layout_ewl_simple_la_SOURCES   = $(top_srcdir)/src/entropy_gui.c \
				ewl_mime_dialog.c layout_ewl_simple.c $(top_srcdir)/src/entropy_debug.c \
				 ewl_tip.c
layout_ewl_simple_la_CFLAGS    = @EWL_CFLAGS@
layout_ewl_simple_la_LDFLAGS   = -module -avoid-version
layout_ewl_simple_la_LIBADD    = @EWL_LIBS@

#layout_etk_simple_la_SOURCES  =  layout_etk_simple.c $(top_srcdir)/src/entropy_debug.c
#layout_etk_simple_la_CFLAGS   = @ETK_CFLAGS@
#layout_etk_simple_la_LDFLAGS  = -module -avoid-version
#layout_etk_simple_la_LIBADD   = @ETK_LIBS@


mime_la_SOURCES                = mime.c $(top_srcdir)/src/entropy_core.c
mime_la_CFLAGS 	               = @EVFS_CFLAGS@
mime_la_LDFLAGS                = -module -avoid-version

imlib_thumbnailer_la_SOURCES   = thumbnailer.c thumbnail_generic.c md5.c $(top_srcdir)/src/entropy_debug.c
imlib_thumbnailer_la_CFLAGS    = @ECORE_CFLAGS@ @IMLIB2_CFLAGS@ @EPSILON_CFLAGS@
imlib_thumbnailer_la_LDFLAGS   = -module -avoid-version
imlib_thumbnailer_la_LIBADD    = @IMLIB2_LIBS@ @ECORE_LIBS@ @PNG_LIBS@ @EPSILON_LIBS@

system_thumbnailer_la_SOURCES  = thumbnail_system.c thumbnail_generic.c $(top_srcdir)/src/entropy_debug.c
system_thumbnailer_la_CFLAGS   = @ECORE_CFLAGS@ @IMLIB2_CFLAGS@ @EPSILON_CFLAGS@
system_thumbnailer_la_LDFLAGS  = -module -avoid-version
system_thumbnailer_la_LIBADD   = @ECORE_LIBS@ @EPSILON_LIBS@


posix_la_SOURCES               = filesystem.c $(top_srcdir)/src/entropy_debug.c
posix_la_CFLAGS                = @EVFS_CFLAGS@
posix_la_LDFLAGS               = -module -avoid-version
posix_la_LIBADD                = @EVFS_LIBS@

