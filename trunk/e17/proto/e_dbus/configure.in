AC_PREREQ(2.59)
AC_INIT([e_dbus], [0.1], [rephorm@rephorm.com])
AM_INIT_AUTOMAKE([1.6 foreign])

AC_PROG_CC
AM_ENABLE_SHARED
AM_PROG_LIBTOOL

AC_HEADER_STDC

AC_CONFIG_HEADERS(config.h)

PKG_CHECK_MODULES([EDBUS], [
  dbus-1
  ecore >= 0.9.9
])

PKG_CHECK_MODULES([HAL_TEST_GUI], [
  ewl
  efreet
],
# temporarily disable until update to newer tree2 api
[AC_DEFINE([EWL_GUI], 0, [An ewl gui for e_dbus_hal])],
[AC_DEFINE([EWL_GUI], 0, [An ewl gui for e_dbus_hal])]
)

AC_OUTPUT([
Makefile
src/Makefile
src/lib/Makefile
src/lib/dbus/Makefile
src/lib/hal/Makefile
src/lib/nm/Makefile
src/bin/Makefile
edbus.pc
])
