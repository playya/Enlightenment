<section>
<sectioninfo>
  <author>
    <firstname>Ben</firstname>
    <surname>Rockwood</surname>
    <email>benr@cuddletech.com</email>
    <othername>'technikolor'</othername>
  </author>
  <date>12 July 2004</date>
</sectioninfo>

<title>Recipe: Etox Overview</title>

<para>
In order to get using Etox quickly, a simple overview example is worthwhile.  In the following
example code we'll create an X11 Evas using Ecore_Evas and then put some Etox text on it.
</para>

<example>
<title>Etox Overview Example</title>
<programlisting>
#include &lt;Ecore_Evas.h&gt;
#include &lt;Ecore.h&gt;
#include &lt;Etox.h&gt;

#define WIDTH 400
#define HEIGHT 200

        Ecore_Evas  *   ee;
        Evas        *   evas;
        Evas_Object *   base_rect;
        Evas_Object *   etox;
        Etox_Context *  context;

int main(){

        ecore_init();

   ee = ecore_evas_software_x11_new(NULL, 0,  0, 0, WIDTH, HEIGHT);
        ecore_evas_title_set(ee, "ETOX Test");
        ecore_evas_borderless_set(ee, 0);
        ecore_evas_show(ee);

   evas = ecore_evas_get(ee);
        evas_font_path_append(evas, ".");

   base_rect = evas_object_rectangle_add(evas);
        evas_object_resize(base_rect, (double)WIDTH, (double)HEIGHT);
        evas_object_color_set(base_rect, 255, 255, 255, 255);
        evas_object_show(base_rect);

   etox = etox_new(evas);
        evas_object_resize(etox, WIDTH, HEIGHT);


   context = etox_get_context(etox);
        etox_context_set_color(context, 0, 0, 0, 255);
        etox_context_set_font(context, "Vera", 32);
        etox_context_set_align(context, ETOX_ALIGN_LEFT);

        etox_set_soft_wrap(etox, 1);
        etox_set_text(etox, "Welcome to the world of Etox!");

        evas_object_show(etox);

        ecore_main_loop_begin();

        return 0;
}
</programlisting>
</example>

<para>
This example can be compiled in the following way:
</para>

<example>
<programlisting>
gcc `etox-config --libs --cflags` `ecore-config --libs --cflags` etox-test.c -o etox-test
</programlisting>
</example>

<para>
Most of thie example is standard Ecore_Evas functions, so we'll concentrate just on the Etox related parts of it.
Notice that we use the <function>evas_font_path_append</function> Evas function to define our font path, this is 
something that Etox will not do for you.
</para>

<para>
Your Etox text will always start by adding a new Etox using <function>etox_new</function> function which returns a new
Evas_Object.  Because your Etox is itself an Evas object it can be manipulated as such.  Etox's layout functions
such as clipping and wrapping are dependant upon the size of the Etox itself, therefore <function>evas_object_resize</function>
needs to be called to define the proper size of the Etox.  Please note that the area of the object will <emphasis>not</emphasis>
default to the size of the Evas itself.  
</para>

<para>
Etox uses the concept of contexts.  A context is a set of parameters such as color, font, alignment, styles, and markers that
are applied to a certain set of text.  Each Etox object has at least one context associated with it which is created when calling
<function>etox_new</function>.  For this reason the <function>etox_context_new</function> function <emphasis>only</emphasis> needs
to be called when creating additional contexts.
</para>


</section>
