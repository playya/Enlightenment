/*
 * DO NOT EDIT THIS FILE - it is generated by Glade.
 */

#ifdef HAVE_CONFIG_H
#  include <config.h>
#endif

#include <sys/types.h>
#include <sys/stat.h>
#include <unistd.h>
#include <string.h>

#include <gdk/gdkkeysyms.h>
#include <gtk/gtk.h>

#include "callbacks.h"
#include "interface.h"
#include "support.h"

GtkWidget*
create_window (void)
{
  GtkWidget *window;
  GtkWidget *vbox1;
  GtkWidget *menubar1;
  GtkWidget *file;
  GtkWidget *file_menu;
  GtkAccelGroup *file_menu_accels;
  GtkWidget *load;
  GtkWidget *save_as;
  GtkWidget *separator1;
  GtkWidget *save;
  GtkWidget *separator2;
  GtkWidget *exit;
  GtkWidget *hbox1;
  GtkWidget *vbox778;
  GtkWidget *alignment8;
  GtkWidget *frame15;
  GtkWidget *pixmap1;
  GtkWidget *alignment7;
  GtkWidget *table1;
  GtkWidget *frame1;
  GtkWidget *draw;
  GtkWidget *alignment5;
  GtkWidget *test_scroll_y;
  GtkWidget *test_scroll_x;
  GtkWidget *notebook1;
  GtkWidget *label711;
  GtkWidget *label79;
  GtkWidget *vbox2;
  GtkWidget *hbox77;
  GtkWidget *label10;
  GtkObject *layer_num_adj;
  GtkWidget *layer_num;
  GtkWidget *layer_add;
  GtkWidget *layer_del;
  GtkWidget *frame2;
  GtkWidget *table2;
  GtkWidget *frame4;
  GtkWidget *alignment2;
  GtkWidget *hbox2;
  GtkWidget *frame5;
  GtkWidget *grad_col_1;
  GtkWidget *arrow2;
  GtkWidget *arrow1;
  GtkWidget *frame6;
  GtkWidget *grad_col_2;
  GtkWidget *frame10;
  GtkWidget *alignment4;
  GtkObject *angle_adj;
  GtkWidget *angle;
  GtkWidget *frame7;
  GtkWidget *frame8;
  GtkWidget *solid_color;
  GtkWidget *inline_image;
  GtkWidget *frame9;
  GtkWidget *alignment3;
  GtkWidget *color_class;
  GtkWidget *frame11;
  GtkWidget *hbox3;
  GtkWidget *label1;
  GtkObject *scroll_x_adj;
  GtkWidget *scroll_x;
  GtkWidget *label2;
  GtkObject *scroll_y_adj;
  GtkWidget *scroll_y;
  GtkWidget *frame12;
  GtkWidget *hbox4;
  GtkWidget *label3;
  GtkObject *pos_x_adj;
  GtkWidget *pos_x;
  GtkWidget *label4;
  GtkObject *pos_y_adj;
  GtkWidget *pos_y;
  GtkWidget *frame13;
  GtkWidget *vbox777;
  GtkWidget *hbox5;
  GtkWidget *label5;
  GtkObject *size_w_adj;
  GtkWidget *size_w;
  GtkWidget *label6;
  GtkObject *size_h_adj;
  GtkWidget *size_h;
  GtkWidget *hbox8;
  GtkWidget *size_orig_w;
  GtkWidget *size_orig_h;
  GtkWidget *frame14;
  GtkWidget *vbox3;
  GtkWidget *hbox6;
  GtkWidget *label8;
  GtkObject *fill_w_adj;
  GtkWidget *fill_w;
  GtkWidget *label9;
  GtkObject *fill_h_adj;
  GtkWidget *fill_h;
  GtkWidget *hbox9;
  GtkWidget *fill_orig_w;
  GtkWidget *fill_orig_h;
  GtkWidget *frame3;
  GtkWidget *alignment1;
  GtkWidget *hbox7;
  GtkWidget *image_file;
  GtkWidget *image_browse;
  GtkWidget *hbox10;
  GSList *type_group = NULL;
  GtkWidget *type_image;
  GtkWidget *type_gradient;
  GtkWidget *type_color;
  GtkWidget *label710;

  window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_object_set_data (GTK_OBJECT (window), "window", window);
  gtk_window_set_title (GTK_WINDOW (window), _("Ebony"));
  gtk_window_set_policy (GTK_WINDOW (window), FALSE, TRUE, TRUE);
  gtk_window_set_wmclass (GTK_WINDOW (window), "Main", "Ebony");

  vbox1 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox1);
  gtk_object_set_data_full (GTK_OBJECT (window), "vbox1", vbox1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox1);
  gtk_container_add (GTK_CONTAINER (window), vbox1);

  menubar1 = gtk_menu_bar_new ();
  gtk_widget_ref (menubar1);
  gtk_object_set_data_full (GTK_OBJECT (window), "menubar1", menubar1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (menubar1);
  gtk_box_pack_start (GTK_BOX (vbox1), menubar1, FALSE, FALSE, 0);

  file = gtk_menu_item_new_with_label (_("File"));
  gtk_widget_ref (file);
  gtk_object_set_data_full (GTK_OBJECT (window), "file", file,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (file);
  gtk_container_add (GTK_CONTAINER (menubar1), file);

  file_menu = gtk_menu_new ();
  gtk_widget_ref (file_menu);
  gtk_object_set_data_full (GTK_OBJECT (window), "file_menu", file_menu,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_menu_item_set_submenu (GTK_MENU_ITEM (file), file_menu);
  file_menu_accels = gtk_menu_ensure_uline_accel_group (GTK_MENU (file_menu));

  load = gtk_menu_item_new_with_label (_("Load..."));
  gtk_widget_ref (load);
  gtk_object_set_data_full (GTK_OBJECT (window), "load", load,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (load);
  gtk_container_add (GTK_CONTAINER (file_menu), load);

  save_as = gtk_menu_item_new_with_label (_("Save As..."));
  gtk_widget_ref (save_as);
  gtk_object_set_data_full (GTK_OBJECT (window), "save_as", save_as,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (save_as);
  gtk_container_add (GTK_CONTAINER (file_menu), save_as);

  separator1 = gtk_menu_item_new ();
  gtk_widget_ref (separator1);
  gtk_object_set_data_full (GTK_OBJECT (window), "separator1", separator1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (separator1);
  gtk_container_add (GTK_CONTAINER (file_menu), separator1);
  gtk_widget_set_sensitive (separator1, FALSE);

  save = gtk_menu_item_new_with_label (_("Save"));
  gtk_widget_ref (save);
  gtk_object_set_data_full (GTK_OBJECT (window), "save", save,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (save);
  gtk_container_add (GTK_CONTAINER (file_menu), save);

  separator2 = gtk_menu_item_new ();
  gtk_widget_ref (separator2);
  gtk_object_set_data_full (GTK_OBJECT (window), "separator2", separator2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (separator2);
  gtk_container_add (GTK_CONTAINER (file_menu), separator2);
  gtk_widget_set_sensitive (separator2, FALSE);

  exit = gtk_menu_item_new_with_label (_("Exit"));
  gtk_widget_ref (exit);
  gtk_object_set_data_full (GTK_OBJECT (window), "exit", exit,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (exit);
  gtk_container_add (GTK_CONTAINER (file_menu), exit);

  hbox1 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox1);
  gtk_object_set_data_full (GTK_OBJECT (window), "hbox1", hbox1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox1);
  gtk_box_pack_start (GTK_BOX (vbox1), hbox1, TRUE, TRUE, 0);

  vbox778 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox778);
  gtk_object_set_data_full (GTK_OBJECT (window), "vbox778", vbox778,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox778);
  gtk_box_pack_start (GTK_BOX (hbox1), vbox778, FALSE, FALSE, 0);

  alignment8 = gtk_alignment_new (0.5, 0.5, 0, 0);
  gtk_widget_ref (alignment8);
  gtk_object_set_data_full (GTK_OBJECT (window), "alignment8", alignment8,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (alignment8);
  gtk_box_pack_start (GTK_BOX (vbox778), alignment8, FALSE, FALSE, 2);

  frame15 = gtk_frame_new (NULL);
  gtk_widget_ref (frame15);
  gtk_object_set_data_full (GTK_OBJECT (window), "frame15", frame15,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame15);
  gtk_container_add (GTK_CONTAINER (alignment8), frame15);
  gtk_frame_set_shadow_type (GTK_FRAME (frame15), GTK_SHADOW_IN);

  pixmap1 = create_pixmap (window, "ebony.xpm");
  gtk_widget_ref (pixmap1);
  gtk_object_set_data_full (GTK_OBJECT (window), "pixmap1", pixmap1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (pixmap1);
  gtk_container_add (GTK_CONTAINER (frame15), pixmap1);

  alignment7 = gtk_alignment_new (0.5, 0.5, 0, 0);
  gtk_widget_ref (alignment7);
  gtk_object_set_data_full (GTK_OBJECT (window), "alignment7", alignment7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (alignment7);
  gtk_box_pack_start (GTK_BOX (vbox778), alignment7, TRUE, TRUE, 0);

  table1 = gtk_table_new (2, 2, FALSE);
  gtk_widget_ref (table1);
  gtk_object_set_data_full (GTK_OBJECT (window), "table1", table1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table1);
  gtk_container_add (GTK_CONTAINER (alignment7), table1);

  frame1 = gtk_frame_new (NULL);
  gtk_widget_ref (frame1);
  gtk_object_set_data_full (GTK_OBJECT (window), "frame1", frame1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame1);
  gtk_table_attach (GTK_TABLE (table1), frame1, 0, 1, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame1), 2);
  gtk_frame_set_shadow_type (GTK_FRAME (frame1), GTK_SHADOW_IN);

  draw = gtk_drawing_area_new ();
  gtk_widget_ref (draw);
  gtk_object_set_data_full (GTK_OBJECT (window), "draw", draw,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (draw);
  gtk_container_add (GTK_CONTAINER (frame1), draw);
  gtk_widget_set_usize (draw, 320, 240);
  gtk_widget_set_events (draw, GDK_EXPOSURE_MASK | GDK_POINTER_MOTION_MASK | GDK_BUTTON_PRESS_MASK | GDK_BUTTON_RELEASE_MASK);

  alignment5 = gtk_alignment_new (0.5, 0.5, 1, 1);
  gtk_widget_ref (alignment5);
  gtk_object_set_data_full (GTK_OBJECT (window), "alignment5", alignment5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (alignment5);
  gtk_table_attach (GTK_TABLE (table1), alignment5, 1, 2, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);

  test_scroll_y = gtk_vscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 240, 1, 10, 10)));
  gtk_widget_ref (test_scroll_y);
  gtk_object_set_data_full (GTK_OBJECT (window), "test_scroll_y", test_scroll_y,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (test_scroll_y);
  gtk_container_add (GTK_CONTAINER (alignment5), test_scroll_y);

  test_scroll_x = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 320, 1, 10, 10)));
  gtk_widget_ref (test_scroll_x);
  gtk_object_set_data_full (GTK_OBJECT (window), "test_scroll_x", test_scroll_x,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (test_scroll_x);
  gtk_table_attach (GTK_TABLE (table1), test_scroll_x, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 2, 2);
  gtk_scale_set_value_pos (GTK_SCALE (test_scroll_x), GTK_POS_LEFT);

  notebook1 = gtk_notebook_new ();
  gtk_widget_ref (notebook1);
  gtk_object_set_data_full (GTK_OBJECT (window), "notebook1", notebook1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (notebook1);
  gtk_box_pack_start (GTK_BOX (hbox1), notebook1, FALSE, FALSE, 0);
  gtk_notebook_set_tab_hborder (GTK_NOTEBOOK (notebook1), 0);
  gtk_notebook_set_tab_vborder (GTK_NOTEBOOK (notebook1), 0);

  label711 = gtk_label_new (_("Use the advanced panel...\nIf you can't, then don't use\nthis tool right now."));
  gtk_widget_ref (label711);
  gtk_object_set_data_full (GTK_OBJECT (window), "label711", label711,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label711);
  gtk_container_add (GTK_CONTAINER (notebook1), label711);

  label79 = gtk_label_new (_("Settings"));
  gtk_widget_ref (label79);
  gtk_object_set_data_full (GTK_OBJECT (window), "label79", label79,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label79);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook1), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook1), 0), label79);

  vbox2 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox2);
  gtk_object_set_data_full (GTK_OBJECT (window), "vbox2", vbox2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox2);
  gtk_container_add (GTK_CONTAINER (notebook1), vbox2);

  hbox77 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox77);
  gtk_object_set_data_full (GTK_OBJECT (window), "hbox77", hbox77,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox77);
  gtk_box_pack_start (GTK_BOX (vbox2), hbox77, FALSE, FALSE, 2);

  label10 = gtk_label_new (_("Layer"));
  gtk_widget_ref (label10);
  gtk_object_set_data_full (GTK_OBJECT (window), "label10", label10,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label10);
  gtk_box_pack_start (GTK_BOX (hbox77), label10, FALSE, FALSE, 2);

  layer_num_adj = gtk_adjustment_new (0, 0, 9999, 1, 10, 10);
  layer_num = gtk_spin_button_new (GTK_ADJUSTMENT (layer_num_adj), 1, 0);
  gtk_widget_ref (layer_num);
  gtk_object_set_data_full (GTK_OBJECT (window), "layer_num", layer_num,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (layer_num);
  gtk_box_pack_start (GTK_BOX (hbox77), layer_num, FALSE, FALSE, 2);

  layer_add = gtk_button_new_with_label (_("Add..."));
  gtk_widget_ref (layer_add);
  gtk_object_set_data_full (GTK_OBJECT (window), "layer_add", layer_add,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (layer_add);
  gtk_box_pack_start (GTK_BOX (hbox77), layer_add, TRUE, TRUE, 2);

  layer_del = gtk_button_new_with_label (_("Delete"));
  gtk_widget_ref (layer_del);
  gtk_object_set_data_full (GTK_OBJECT (window), "layer_del", layer_del,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (layer_del);
  gtk_box_pack_start (GTK_BOX (hbox77), layer_del, TRUE, TRUE, 2);

  frame2 = gtk_frame_new (_("Layer Settings"));
  gtk_widget_ref (frame2);
  gtk_object_set_data_full (GTK_OBJECT (window), "frame2", frame2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame2);
  gtk_box_pack_start (GTK_BOX (vbox2), frame2, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame2), 2);
  gtk_frame_set_label_align (GTK_FRAME (frame2), 0.5, 0.5);

  table2 = gtk_table_new (9, 3, FALSE);
  gtk_widget_ref (table2);
  gtk_object_set_data_full (GTK_OBJECT (window), "table2", table2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table2);
  gtk_container_add (GTK_CONTAINER (frame2), table2);
  gtk_container_set_border_width (GTK_CONTAINER (table2), 2);
  gtk_table_set_row_spacings (GTK_TABLE (table2), 2);
  gtk_table_set_col_spacings (GTK_TABLE (table2), 2);

  frame4 = gtk_frame_new (_("Gradient Color"));
  gtk_widget_ref (frame4);
  gtk_object_set_data_full (GTK_OBJECT (window), "frame4", frame4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame4);
  gtk_table_attach (GTK_TABLE (table2), frame4, 0, 3, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);

  alignment2 = gtk_alignment_new (0.5, 0.5, 1, 1);
  gtk_widget_ref (alignment2);
  gtk_object_set_data_full (GTK_OBJECT (window), "alignment2", alignment2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (alignment2);
  gtk_container_add (GTK_CONTAINER (frame4), alignment2);
  gtk_container_set_border_width (GTK_CONTAINER (alignment2), 2);

  hbox2 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox2);
  gtk_object_set_data_full (GTK_OBJECT (window), "hbox2", hbox2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox2);
  gtk_container_add (GTK_CONTAINER (alignment2), hbox2);

  frame5 = gtk_frame_new (NULL);
  gtk_widget_ref (frame5);
  gtk_object_set_data_full (GTK_OBJECT (window), "frame5", frame5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame5);
  gtk_box_pack_start (GTK_BOX (hbox2), frame5, TRUE, TRUE, 0);
  gtk_frame_set_shadow_type (GTK_FRAME (frame5), GTK_SHADOW_IN);

  grad_col_1 = gtk_drawing_area_new ();
  gtk_widget_ref (grad_col_1);
  gtk_object_set_data_full (GTK_OBJECT (window), "grad_col_1", grad_col_1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (grad_col_1);
  gtk_container_add (GTK_CONTAINER (frame5), grad_col_1);
  gtk_widget_set_events (grad_col_1, GDK_BUTTON_PRESS_MASK | GDK_BUTTON_RELEASE_MASK);

  arrow2 = gtk_arrow_new (GTK_ARROW_LEFT, GTK_SHADOW_OUT);
  gtk_widget_ref (arrow2);
  gtk_object_set_data_full (GTK_OBJECT (window), "arrow2", arrow2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (arrow2);
  gtk_box_pack_start (GTK_BOX (hbox2), arrow2, FALSE, FALSE, 0);
  gtk_misc_set_padding (GTK_MISC (arrow2), 2, 2);

  arrow1 = gtk_arrow_new (GTK_ARROW_RIGHT, GTK_SHADOW_OUT);
  gtk_widget_ref (arrow1);
  gtk_object_set_data_full (GTK_OBJECT (window), "arrow1", arrow1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (arrow1);
  gtk_box_pack_start (GTK_BOX (hbox2), arrow1, FALSE, FALSE, 0);
  gtk_misc_set_padding (GTK_MISC (arrow1), 2, 2);

  frame6 = gtk_frame_new (NULL);
  gtk_widget_ref (frame6);
  gtk_object_set_data_full (GTK_OBJECT (window), "frame6", frame6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame6);
  gtk_box_pack_start (GTK_BOX (hbox2), frame6, TRUE, TRUE, 0);
  gtk_frame_set_shadow_type (GTK_FRAME (frame6), GTK_SHADOW_IN);

  grad_col_2 = gtk_drawing_area_new ();
  gtk_widget_ref (grad_col_2);
  gtk_object_set_data_full (GTK_OBJECT (window), "grad_col_2", grad_col_2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (grad_col_2);
  gtk_container_add (GTK_CONTAINER (frame6), grad_col_2);
  gtk_widget_set_events (grad_col_2, GDK_BUTTON_PRESS_MASK | GDK_BUTTON_RELEASE_MASK);

  frame10 = gtk_frame_new (_("Angle"));
  gtk_widget_ref (frame10);
  gtk_object_set_data_full (GTK_OBJECT (window), "frame10", frame10,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame10);
  gtk_table_attach (GTK_TABLE (table2), frame10, 0, 1, 6, 7,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);

  alignment4 = gtk_alignment_new (0.5, 0.5, 1, 1);
  gtk_widget_ref (alignment4);
  gtk_object_set_data_full (GTK_OBJECT (window), "alignment4", alignment4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (alignment4);
  gtk_container_add (GTK_CONTAINER (frame10), alignment4);
  gtk_container_set_border_width (GTK_CONTAINER (alignment4), 2);

  angle_adj = gtk_adjustment_new (0, 0, 360, 1, 10, 10);
  angle = gtk_spin_button_new (GTK_ADJUSTMENT (angle_adj), 1, 1);
  gtk_widget_ref (angle);
  gtk_object_set_data_full (GTK_OBJECT (window), "angle", angle,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (angle);
  gtk_container_add (GTK_CONTAINER (alignment4), angle);

  frame7 = gtk_frame_new (_("Solid Color"));
  gtk_widget_ref (frame7);
  gtk_object_set_data_full (GTK_OBJECT (window), "frame7", frame7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame7);
  gtk_table_attach (GTK_TABLE (table2), frame7, 1, 2, 6, 7,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);

  frame8 = gtk_frame_new (NULL);
  gtk_widget_ref (frame8);
  gtk_object_set_data_full (GTK_OBJECT (window), "frame8", frame8,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame8);
  gtk_container_add (GTK_CONTAINER (frame7), frame8);
  gtk_widget_set_usize (frame8, -2, 20);
  gtk_container_set_border_width (GTK_CONTAINER (frame8), 2);
  gtk_frame_set_shadow_type (GTK_FRAME (frame8), GTK_SHADOW_IN);

  solid_color = gtk_drawing_area_new ();
  gtk_widget_ref (solid_color);
  gtk_object_set_data_full (GTK_OBJECT (window), "solid_color", solid_color,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (solid_color);
  gtk_container_add (GTK_CONTAINER (frame8), solid_color);
  gtk_widget_set_events (solid_color, GDK_BUTTON_PRESS_MASK | GDK_BUTTON_RELEASE_MASK);

  inline_image = gtk_check_button_new_with_label (_("Inline\nImage"));
  gtk_widget_ref (inline_image);
  gtk_object_set_data_full (GTK_OBJECT (window), "inline_image", inline_image,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (inline_image);
  gtk_table_attach (GTK_TABLE (table2), inline_image, 2, 3, 6, 7,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);

  frame9 = gtk_frame_new (_("Color Class"));
  gtk_widget_ref (frame9);
  gtk_object_set_data_full (GTK_OBJECT (window), "frame9", frame9,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame9);
  gtk_table_attach (GTK_TABLE (table2), frame9, 0, 3, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);

  alignment3 = gtk_alignment_new (0.5, 0.5, 1, 1);
  gtk_widget_ref (alignment3);
  gtk_object_set_data_full (GTK_OBJECT (window), "alignment3", alignment3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (alignment3);
  gtk_container_add (GTK_CONTAINER (frame9), alignment3);
  gtk_container_set_border_width (GTK_CONTAINER (alignment3), 2);

  color_class = gtk_entry_new ();
  gtk_widget_ref (color_class);
  gtk_object_set_data_full (GTK_OBJECT (window), "color_class", color_class,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (color_class);
  gtk_container_add (GTK_CONTAINER (alignment3), color_class);

  frame11 = gtk_frame_new (_("Scroll Follow"));
  gtk_widget_ref (frame11);
  gtk_object_set_data_full (GTK_OBJECT (window), "frame11", frame11,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame11);
  gtk_table_attach (GTK_TABLE (table2), frame11, 0, 3, 4, 5,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);

  hbox3 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox3);
  gtk_object_set_data_full (GTK_OBJECT (window), "hbox3", hbox3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox3);
  gtk_container_add (GTK_CONTAINER (frame11), hbox3);

  label1 = gtk_label_new (_("X:"));
  gtk_widget_ref (label1);
  gtk_object_set_data_full (GTK_OBJECT (window), "label1", label1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label1);
  gtk_box_pack_start (GTK_BOX (hbox3), label1, FALSE, FALSE, 0);
  gtk_misc_set_padding (GTK_MISC (label1), 2, 0);

  scroll_x_adj = gtk_adjustment_new (0, 0, 1000, 0.01, 0.01, 0.01);
  scroll_x = gtk_spin_button_new (GTK_ADJUSTMENT (scroll_x_adj), 1, 2);
  gtk_widget_ref (scroll_x);
  gtk_object_set_data_full (GTK_OBJECT (window), "scroll_x", scroll_x,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scroll_x);
  gtk_box_pack_start (GTK_BOX (hbox3), scroll_x, TRUE, TRUE, 0);

  label2 = gtk_label_new (_("Y:"));
  gtk_widget_ref (label2);
  gtk_object_set_data_full (GTK_OBJECT (window), "label2", label2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label2);
  gtk_box_pack_start (GTK_BOX (hbox3), label2, FALSE, FALSE, 0);
  gtk_misc_set_padding (GTK_MISC (label2), 2, 0);

  scroll_y_adj = gtk_adjustment_new (0, 0, 1000, 0.01, 0.01, 0.01);
  scroll_y = gtk_spin_button_new (GTK_ADJUSTMENT (scroll_y_adj), 1, 2);
  gtk_widget_ref (scroll_y);
  gtk_object_set_data_full (GTK_OBJECT (window), "scroll_y", scroll_y,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scroll_y);
  gtk_box_pack_start (GTK_BOX (hbox3), scroll_y, TRUE, TRUE, 0);

  frame12 = gtk_frame_new (_("Position"));
  gtk_widget_ref (frame12);
  gtk_object_set_data_full (GTK_OBJECT (window), "frame12", frame12,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame12);
  gtk_table_attach (GTK_TABLE (table2), frame12, 0, 3, 5, 6,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);

  hbox4 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox4);
  gtk_object_set_data_full (GTK_OBJECT (window), "hbox4", hbox4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox4);
  gtk_container_add (GTK_CONTAINER (frame12), hbox4);

  label3 = gtk_label_new (_("X:"));
  gtk_widget_ref (label3);
  gtk_object_set_data_full (GTK_OBJECT (window), "label3", label3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label3);
  gtk_box_pack_start (GTK_BOX (hbox4), label3, FALSE, FALSE, 0);
  gtk_misc_set_padding (GTK_MISC (label3), 2, 0);

  pos_x_adj = gtk_adjustment_new (0, 0, 1, 0.01, 0.01, 0.01);
  pos_x = gtk_spin_button_new (GTK_ADJUSTMENT (pos_x_adj), 1, 2);
  gtk_widget_ref (pos_x);
  gtk_object_set_data_full (GTK_OBJECT (window), "pos_x", pos_x,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (pos_x);
  gtk_box_pack_start (GTK_BOX (hbox4), pos_x, TRUE, TRUE, 0);

  label4 = gtk_label_new (_("Y:"));
  gtk_widget_ref (label4);
  gtk_object_set_data_full (GTK_OBJECT (window), "label4", label4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label4);
  gtk_box_pack_start (GTK_BOX (hbox4), label4, FALSE, FALSE, 0);
  gtk_misc_set_padding (GTK_MISC (label4), 2, 0);

  pos_y_adj = gtk_adjustment_new (0, 0, 1, 0.01, 0.01, 0.01);
  pos_y = gtk_spin_button_new (GTK_ADJUSTMENT (pos_y_adj), 1, 2);
  gtk_widget_ref (pos_y);
  gtk_object_set_data_full (GTK_OBJECT (window), "pos_y", pos_y,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (pos_y);
  gtk_box_pack_start (GTK_BOX (hbox4), pos_y, TRUE, TRUE, 0);

  frame13 = gtk_frame_new (_("Size"));
  gtk_widget_ref (frame13);
  gtk_object_set_data_full (GTK_OBJECT (window), "frame13", frame13,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame13);
  gtk_table_attach (GTK_TABLE (table2), frame13, 0, 3, 7, 8,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);

  vbox777 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox777);
  gtk_object_set_data_full (GTK_OBJECT (window), "vbox777", vbox777,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox777);
  gtk_container_add (GTK_CONTAINER (frame13), vbox777);

  hbox5 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox5);
  gtk_object_set_data_full (GTK_OBJECT (window), "hbox5", hbox5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox5);
  gtk_box_pack_start (GTK_BOX (vbox777), hbox5, TRUE, TRUE, 0);

  label5 = gtk_label_new (_("Width:"));
  gtk_widget_ref (label5);
  gtk_object_set_data_full (GTK_OBJECT (window), "label5", label5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label5);
  gtk_box_pack_start (GTK_BOX (hbox5), label5, FALSE, FALSE, 0);
  gtk_misc_set_padding (GTK_MISC (label5), 2, 0);

  size_w_adj = gtk_adjustment_new (1, 0, 1, 0.01, 0.01, 0.01);
  size_w = gtk_spin_button_new (GTK_ADJUSTMENT (size_w_adj), 1, 2);
  gtk_widget_ref (size_w);
  gtk_object_set_data_full (GTK_OBJECT (window), "size_w", size_w,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (size_w);
  gtk_box_pack_start (GTK_BOX (hbox5), size_w, TRUE, TRUE, 0);

  label6 = gtk_label_new (_("Height:"));
  gtk_widget_ref (label6);
  gtk_object_set_data_full (GTK_OBJECT (window), "label6", label6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label6);
  gtk_box_pack_start (GTK_BOX (hbox5), label6, FALSE, FALSE, 0);
  gtk_misc_set_padding (GTK_MISC (label6), 2, 0);

  size_h_adj = gtk_adjustment_new (1, 0, 1, 0.01, 0.01, 0.01);
  size_h = gtk_spin_button_new (GTK_ADJUSTMENT (size_h_adj), 1, 2);
  gtk_widget_ref (size_h);
  gtk_object_set_data_full (GTK_OBJECT (window), "size_h", size_h,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (size_h);
  gtk_box_pack_start (GTK_BOX (hbox5), size_h, TRUE, TRUE, 0);

  hbox8 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox8);
  gtk_object_set_data_full (GTK_OBJECT (window), "hbox8", hbox8,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox8);
  gtk_box_pack_start (GTK_BOX (vbox777), hbox8, FALSE, FALSE, 0);

  size_orig_w = gtk_check_button_new_with_label (_("Orig Width"));
  gtk_widget_ref (size_orig_w);
  gtk_object_set_data_full (GTK_OBJECT (window), "size_orig_w", size_orig_w,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (size_orig_w);
  gtk_box_pack_start (GTK_BOX (hbox8), size_orig_w, FALSE, FALSE, 0);

  size_orig_h = gtk_check_button_new_with_label (_("Orig Height"));
  gtk_widget_ref (size_orig_h);
  gtk_object_set_data_full (GTK_OBJECT (window), "size_orig_h", size_orig_h,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (size_orig_h);
  gtk_box_pack_start (GTK_BOX (hbox8), size_orig_h, FALSE, FALSE, 0);

  frame14 = gtk_frame_new (_("Fill"));
  gtk_widget_ref (frame14);
  gtk_object_set_data_full (GTK_OBJECT (window), "frame14", frame14,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame14);
  gtk_table_attach (GTK_TABLE (table2), frame14, 0, 3, 8, 9,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);

  vbox3 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox3);
  gtk_object_set_data_full (GTK_OBJECT (window), "vbox3", vbox3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox3);
  gtk_container_add (GTK_CONTAINER (frame14), vbox3);

  hbox6 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox6);
  gtk_object_set_data_full (GTK_OBJECT (window), "hbox6", hbox6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox6);
  gtk_box_pack_start (GTK_BOX (vbox3), hbox6, TRUE, TRUE, 0);

  label8 = gtk_label_new (_("Width:"));
  gtk_widget_ref (label8);
  gtk_object_set_data_full (GTK_OBJECT (window), "label8", label8,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label8);
  gtk_box_pack_start (GTK_BOX (hbox6), label8, FALSE, FALSE, 0);
  gtk_misc_set_padding (GTK_MISC (label8), 2, 0);

  fill_w_adj = gtk_adjustment_new (1, 0, 1, 0.01, 0.01, 0.01);
  fill_w = gtk_spin_button_new (GTK_ADJUSTMENT (fill_w_adj), 1, 2);
  gtk_widget_ref (fill_w);
  gtk_object_set_data_full (GTK_OBJECT (window), "fill_w", fill_w,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (fill_w);
  gtk_box_pack_start (GTK_BOX (hbox6), fill_w, TRUE, TRUE, 0);

  label9 = gtk_label_new (_("Height:"));
  gtk_widget_ref (label9);
  gtk_object_set_data_full (GTK_OBJECT (window), "label9", label9,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label9);
  gtk_box_pack_start (GTK_BOX (hbox6), label9, FALSE, FALSE, 0);
  gtk_misc_set_padding (GTK_MISC (label9), 2, 0);

  fill_h_adj = gtk_adjustment_new (1, 0, 1, 0.01, 0.01, 0.01);
  fill_h = gtk_spin_button_new (GTK_ADJUSTMENT (fill_h_adj), 1, 2);
  gtk_widget_ref (fill_h);
  gtk_object_set_data_full (GTK_OBJECT (window), "fill_h", fill_h,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (fill_h);
  gtk_box_pack_start (GTK_BOX (hbox6), fill_h, TRUE, TRUE, 0);

  hbox9 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox9);
  gtk_object_set_data_full (GTK_OBJECT (window), "hbox9", hbox9,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox9);
  gtk_box_pack_start (GTK_BOX (vbox3), hbox9, FALSE, FALSE, 0);

  fill_orig_w = gtk_check_button_new_with_label (_("Orig Width"));
  gtk_widget_ref (fill_orig_w);
  gtk_object_set_data_full (GTK_OBJECT (window), "fill_orig_w", fill_orig_w,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (fill_orig_w);
  gtk_box_pack_start (GTK_BOX (hbox9), fill_orig_w, FALSE, FALSE, 0);

  fill_orig_h = gtk_check_button_new_with_label (_("Orig Height"));
  gtk_widget_ref (fill_orig_h);
  gtk_object_set_data_full (GTK_OBJECT (window), "fill_orig_h", fill_orig_h,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (fill_orig_h);
  gtk_box_pack_start (GTK_BOX (hbox9), fill_orig_h, FALSE, FALSE, 0);

  frame3 = gtk_frame_new (_("Image File"));
  gtk_widget_ref (frame3);
  gtk_object_set_data_full (GTK_OBJECT (window), "frame3", frame3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame3);
  gtk_table_attach (GTK_TABLE (table2), frame3, 0, 3, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  alignment1 = gtk_alignment_new (0.5, 0.5, 1, 1);
  gtk_widget_ref (alignment1);
  gtk_object_set_data_full (GTK_OBJECT (window), "alignment1", alignment1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (alignment1);
  gtk_container_add (GTK_CONTAINER (frame3), alignment1);
  gtk_container_set_border_width (GTK_CONTAINER (alignment1), 2);

  hbox7 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox7);
  gtk_object_set_data_full (GTK_OBJECT (window), "hbox7", hbox7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox7);
  gtk_container_add (GTK_CONTAINER (alignment1), hbox7);

  image_file = gtk_entry_new ();
  gtk_widget_ref (image_file);
  gtk_object_set_data_full (GTK_OBJECT (window), "image_file", image_file,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (image_file);
  gtk_box_pack_start (GTK_BOX (hbox7), image_file, TRUE, TRUE, 0);
  gtk_widget_set_usize (image_file, 30, -2);

  image_browse = gtk_button_new_with_label (_("Browse"));
  gtk_widget_ref (image_browse);
  gtk_object_set_data_full (GTK_OBJECT (window), "image_browse", image_browse,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (image_browse);
  gtk_box_pack_start (GTK_BOX (hbox7), image_browse, FALSE, FALSE, 2);

  hbox10 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox10);
  gtk_object_set_data_full (GTK_OBJECT (window), "hbox10", hbox10,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox10);
  gtk_table_attach (GTK_TABLE (table2), hbox10, 0, 3, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);

  type_image = gtk_radio_button_new_with_label (type_group, _("Image"));
  type_group = gtk_radio_button_group (GTK_RADIO_BUTTON (type_image));
  gtk_widget_ref (type_image);
  gtk_object_set_data_full (GTK_OBJECT (window), "type_image", type_image,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (type_image);
  gtk_box_pack_start (GTK_BOX (hbox10), type_image, FALSE, FALSE, 0);

  type_gradient = gtk_radio_button_new_with_label (type_group, _("Gradient"));
  type_group = gtk_radio_button_group (GTK_RADIO_BUTTON (type_gradient));
  gtk_widget_ref (type_gradient);
  gtk_object_set_data_full (GTK_OBJECT (window), "type_gradient", type_gradient,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (type_gradient);
  gtk_box_pack_start (GTK_BOX (hbox10), type_gradient, FALSE, FALSE, 0);

  type_color = gtk_radio_button_new_with_label (type_group, _("Color"));
  type_group = gtk_radio_button_group (GTK_RADIO_BUTTON (type_color));
  gtk_widget_ref (type_color);
  gtk_object_set_data_full (GTK_OBJECT (window), "type_color", type_color,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (type_color);
  gtk_box_pack_start (GTK_BOX (hbox10), type_color, FALSE, FALSE, 0);

  label710 = gtk_label_new (_("Advanced..."));
  gtk_widget_ref (label710);
  gtk_object_set_data_full (GTK_OBJECT (window), "label710", label710,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label710);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook1), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook1), 1), label710);

  gtk_signal_connect (GTK_OBJECT (window), "delete_event",
                      GTK_SIGNAL_FUNC (on_window_delete_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (load), "activate",
                      GTK_SIGNAL_FUNC (on_load_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (save_as), "activate",
                      GTK_SIGNAL_FUNC (on_save_as_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (save), "activate",
                      GTK_SIGNAL_FUNC (on_save_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (exit), "activate",
                      GTK_SIGNAL_FUNC (on_exit_activate),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (draw), "button_press_event",
                      GTK_SIGNAL_FUNC (on_draw_button_press_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (draw), "button_release_event",
                      GTK_SIGNAL_FUNC (on_draw_button_release_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (draw), "configure_event",
                      GTK_SIGNAL_FUNC (on_draw_configure_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (draw), "expose_event",
                      GTK_SIGNAL_FUNC (on_draw_expose_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (draw), "motion_notify_event",
                      GTK_SIGNAL_FUNC (on_draw_motion_notify_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (layer_num), "changed",
                      GTK_SIGNAL_FUNC (on_layer_num_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (layer_add), "clicked",
                      GTK_SIGNAL_FUNC (on_layer_add_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (layer_del), "clicked",
                      GTK_SIGNAL_FUNC (on_layer_del_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (grad_col_1), "button_press_event",
                      GTK_SIGNAL_FUNC (on_grad_col_1_button_press_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (grad_col_2), "button_press_event",
                      GTK_SIGNAL_FUNC (on_grad_col_2_button_press_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (angle), "changed",
                      GTK_SIGNAL_FUNC (on_angle_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (solid_color), "button_press_event",
                      GTK_SIGNAL_FUNC (on_solid_color_button_press_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (inline_image), "toggled",
                      GTK_SIGNAL_FUNC (on_inline_image_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (color_class), "changed",
                      GTK_SIGNAL_FUNC (on_color_class_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (scroll_x), "changed",
                      GTK_SIGNAL_FUNC (on_scroll_x_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (scroll_y), "changed",
                      GTK_SIGNAL_FUNC (on_scroll_y_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (pos_x), "changed",
                      GTK_SIGNAL_FUNC (on_pos_x_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (pos_y), "changed",
                      GTK_SIGNAL_FUNC (on_pos_y_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (size_w), "changed",
                      GTK_SIGNAL_FUNC (on_size_w_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (size_h), "changed",
                      GTK_SIGNAL_FUNC (on_size_h_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (size_orig_w), "toggled",
                      GTK_SIGNAL_FUNC (on_size_orig_w_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (size_orig_h), "toggled",
                      GTK_SIGNAL_FUNC (on_size_orig_h_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (fill_w), "changed",
                      GTK_SIGNAL_FUNC (on_fill_w_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (fill_h), "changed",
                      GTK_SIGNAL_FUNC (on_fill_h_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (fill_orig_w), "toggled",
                      GTK_SIGNAL_FUNC (on_fill_orig_w_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (fill_orig_h), "toggled",
                      GTK_SIGNAL_FUNC (on_fill_orig_h_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (image_file), "changed",
                      GTK_SIGNAL_FUNC (on_image_file_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (image_browse), "clicked",
                      GTK_SIGNAL_FUNC (on_image_browse_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (type_image), "toggled",
                      GTK_SIGNAL_FUNC (on_type_image_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (type_gradient), "toggled",
                      GTK_SIGNAL_FUNC (on_type_gradient_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (type_color), "toggled",
                      GTK_SIGNAL_FUNC (on_type_color_toggled),
                      NULL);

  return window;
}

GtkWidget*
create_filesel (void)
{
  GtkWidget *filesel;
  GtkWidget *filesel_ok;
  GtkWidget *filesel_cancel;

  filesel = gtk_file_selection_new (_("Select File"));
  gtk_object_set_data (GTK_OBJECT (filesel), "filesel", filesel);
  gtk_container_set_border_width (GTK_CONTAINER (filesel), 2);
  GTK_WINDOW (filesel)->type = GTK_WINDOW_DIALOG;
  gtk_window_set_modal (GTK_WINDOW (filesel), TRUE);
  gtk_window_set_policy (GTK_WINDOW (filesel), FALSE, FALSE, TRUE);
  gtk_window_set_wmclass (GTK_WINDOW (filesel), "Filesel", "Ebony");

  filesel_ok = GTK_FILE_SELECTION (filesel)->ok_button;
  gtk_object_set_data (GTK_OBJECT (filesel), "filesel_ok", filesel_ok);
  gtk_widget_show (filesel_ok);
  GTK_WIDGET_SET_FLAGS (filesel_ok, GTK_CAN_DEFAULT);

  filesel_cancel = GTK_FILE_SELECTION (filesel)->cancel_button;
  gtk_object_set_data (GTK_OBJECT (filesel), "filesel_cancel", filesel_cancel);
  gtk_widget_show (filesel_cancel);
  GTK_WIDGET_SET_FLAGS (filesel_cancel, GTK_CAN_DEFAULT);

  gtk_signal_connect (GTK_OBJECT (filesel), "delete_event",
                      GTK_SIGNAL_FUNC (on_filesel_delete_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (filesel_ok), "clicked",
                      GTK_SIGNAL_FUNC (on_filesel_ok_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (filesel_cancel), "clicked",
                      GTK_SIGNAL_FUNC (on_filesel_cancel_clicked),
                      NULL);

  return filesel;
}

GtkWidget*
create_colorsel (void)
{
  GtkWidget *colorsel;
  GtkWidget *colorsel_ok;
  GtkWidget *colorsel_cancel;
  GtkWidget *colorsel_help;

  colorsel = gtk_color_selection_dialog_new (_("Select Color"));
  gtk_object_set_data (GTK_OBJECT (colorsel), "colorsel", colorsel);
  gtk_container_set_border_width (GTK_CONTAINER (colorsel), 2);
  GTK_WINDOW (colorsel)->type = GTK_WINDOW_DIALOG;
  gtk_window_set_position (GTK_WINDOW (colorsel), GTK_WIN_POS_MOUSE);
  gtk_window_set_modal (GTK_WINDOW (colorsel), TRUE);
  gtk_window_set_policy (GTK_WINDOW (colorsel), FALSE, FALSE, TRUE);
  gtk_window_set_wmclass (GTK_WINDOW (colorsel), "Colorsel", "Ebony");

  colorsel_ok = GTK_COLOR_SELECTION_DIALOG (colorsel)->ok_button;
  gtk_object_set_data (GTK_OBJECT (colorsel), "colorsel_ok", colorsel_ok);
  gtk_widget_show (colorsel_ok);
  GTK_WIDGET_SET_FLAGS (colorsel_ok, GTK_CAN_DEFAULT);

  colorsel_cancel = GTK_COLOR_SELECTION_DIALOG (colorsel)->cancel_button;
  gtk_object_set_data (GTK_OBJECT (colorsel), "colorsel_cancel", colorsel_cancel);
  gtk_widget_show (colorsel_cancel);
  GTK_WIDGET_SET_FLAGS (colorsel_cancel, GTK_CAN_DEFAULT);

  colorsel_help = GTK_COLOR_SELECTION_DIALOG (colorsel)->help_button;
  gtk_object_set_data (GTK_OBJECT (colorsel), "colorsel_help", colorsel_help);
  gtk_widget_show (colorsel_help);
  GTK_WIDGET_SET_FLAGS (colorsel_help, GTK_CAN_DEFAULT);

  gtk_signal_connect (GTK_OBJECT (colorsel), "delete_event",
                      GTK_SIGNAL_FUNC (on_colorsel_delete_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (colorsel_ok), "clicked",
                      GTK_SIGNAL_FUNC (on_colorsel_ok_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (colorsel_cancel), "clicked",
                      GTK_SIGNAL_FUNC (on_colorsel_cancel_clicked),
                      NULL);

  return colorsel;
}

