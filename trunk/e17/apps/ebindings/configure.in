dnl Process this file with autoconf to produce a configure script.
AC_INIT(src/main.c)
AM_INIT_AUTOMAKE(ebindings, 0.1)
AM_CONFIG_HEADER(src/config.h)

AC_PROG_CC
AM_PROG_CC_STDC
AC_C_CONST 

AC_PROG_INSTALL
AC_PROG_MAKE_SET

AM_MAINTAINER_MODE

changequote(,)dnl
if test "x$GCC" = "xyes"; then
  case " $CFLAGS " in
  *[\ \	]-Wall[\ \	]*) ;;
  *) CFLAGS="$CFLAGS -Wall" ;;
  esac
fi
changequote([,])

AC_ARG_WITH(ewd,
	[ --with-ewd=DIR		use ewd in <DIR>],
	[ CFLAGS="$CFLAGS -I$withval/include" 
		LIBS="-L$withval/lib $LIBS"])
AC_ARG_WITH(edb,
	[ --with-edb=DIR		use edb in <DIR>],
	[ CFLAGS="$CFLAGS -I$withval/include"
	LIBS="-L$withval/lib $LIBS"])

AC_PATH_GENERIC(ewd, 0.0.1, [
	AC_SUBST(ewd_libs)
	AC_SUBST(ewd_cflags) ],
	AC_MSG_ERROR(Cannot find ewd: Is ewd-config in path?))
ewd_libs=`ewd-config --libs`
ewd_cflags=`ewd-config --cflags`
AC_SUBST(ewd_libs)
AC_SUBST(ewd_cflags)


AC_PATH_GENERIC(edb, 1.0.3, [
	AC_SUBST(edb_libs)
	AC_SUBST(edb_cflags) ],
	AC_MSG_ERROR(Cannot find edb: Is edb-config in path?))
edb_libs=`edb-config --libs`
edb_cflags=`edb-config --cflags`
AC_SUBST(edb_libs)
AC_SUBST(edb_cflags)

AM_PATH_GTK(1.2.0, ,
            AC_MSG_ERROR(Cannot find GTK: Is gtk-config in path?))

BONUS_INCS=" -I/usr/X11R6/include"
BONUS_LIBS="-L/usr/X11R6/lib -lgdk_imlib"

AC_SUBST(BONUS_INCS)
AC_SUBST(BONUS_LIBS)

AC_OUTPUT( Makefile \
src/Makefile \
)

